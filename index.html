<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>My map</title>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/topojson.v2.min.js"></script>
    <style></style>
</head>
<body>
<div id="container" class="svg-container"></div>
<script type="text/javascript">
    // width and height of map
    var width = 1400;
    var height = 700;

    //Create SVG element and append map to the SVG
    var svg = d3.select("div#container")
        .append("svg")
        .attr("preserveAspectRatio", "xMinYMin meet")
        .style("background-color","#c9e8fd")
        .attr("viewBox", "0 0 " + width + " " + height)
        .classed("svg-content", true);

    // D3 Projection
    var projection = d3.geoAlbersUsa()
        .translate([width / 2, height / 2]) // translate to center of screen
        .scale([1500]); // scale things down so see entire US

    // Define path generator
    var path = d3.geoPath() // path generator that will convert GeoJSON to SVG paths
        .projection(projection); // tell path generator to use albersUsa projection

    // Define Global Variables
    var topojson = d3.json("us-counties.json");

    Promise.all([
        topojson,
    ]).then(function(values) {
        createMap(values[0]);
    });

    function createMap(world) {
        svg.append("g")
            .attr("class", "counties")
            .selectAll("path")
            .data(world.features)
            .enter().append("path")
            .attr("fill", "lightgray")
            .attr("d", d3.geoPath().projection(projection))
            .style("stroke", "#fff")
            .style("stroke-width", "0.333")
    }

</script>
</body>
</html>